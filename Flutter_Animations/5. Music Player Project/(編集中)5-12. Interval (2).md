

for 文で作成されたwidget に、同じTween を使って別のInterval を適用させる方法

Animationと、それを適用させるwidgetが重複しているが、別のIntervalで再生させたい時、それぞれのwidgetに対応するアニメーションをList化して、下記のように作成することができる

```dart
    late final AnimationController _menuController = AnimationController(
    vsync: this,
    duration: const Duration(seconds: 3),
    reverseDuration: const Duration(seconds: 1),
  );
  
  late final List<Animation<Offset>> _menuAniatmions = [
    // profile button
    Tween<Offset>(
      begin: const Offset(-1, 0),
      end: Offset.zero,
    ).animate(
      CurvedAnimation(
        parent: _menuController,
        curve: Interval(
          0.4,
          0.7,
          curve: _menuCurve,
        ),
      ),
    ),

    // notification button
    Tween<Offset>(
      begin: const Offset(-1, 0),
      end: Offset.zero,
    ).animate(
      CurvedAnimation(
        parent: _menuController,
        curve: Interval(
          0.5,
          0.8,
          curve: _menuCurve,
        ),
      ),
    ),

    // settings button
    Tween<Offset>(
      begin: const Offset(-1, 0),
      end: Offset.zero,
    ).animate(
      CurvedAnimation(
        parent: _menuController,
        curve: Interval(
          0.6,
          0.9,
          curve: _menuCurve,
        ),
      ),
    ),
  ];

for (var i = 0; i < _menus.length; i++) ...[
	  SlideTransition(
		position: _menuAniatmions[i],
		child: Row(
		  children: [
			Icon(
			  _menus[i]["icon"],
			  color: Colors.grey.shade200,
			),
			const SizedBox(
			  width: 10,
			),
			Text(
			  _menus[i]["text"],
			  style: TextStyle(
				color: Colors.grey.shade200,
			  ),
			),
		  ],
		),
	  ),
	  const SizedBox(
		height: 30,
	  ),
	],

```

実際の挙動
![[Interval_(2)_1.gif]]

アニメーション自体は意図通りに動作せうるが、この書き方だとAnimation部分ではInterval以外では重複するコードが増え、結果的にコード全体の量も増える
解決方法は、animation も for 分を使って管理する方法

```dart
  late final List<Animation<Offset>> _menuAniatmions = [
    for (var i = 0; i < _menus.length; i++)
      // profile button
      Tween<Offset>(
        begin: const Offset(-1, 0),
        end: Offset.zero,
      ).animate(
        CurvedAnimation(
          parent: _menuController,
          curve: Interval(
            0.4 + (0.1 * i),
            0.7 + (0.1 * i),
            curve: _menuCurve,
          ),
        ),
      ),
  ];
```![[simulator_screenshot_E6D24F04-51A7-4B7E-BCCA-78F2CECBF2F4.png]]